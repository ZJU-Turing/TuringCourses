# 数据库系统
<div class="badges">
<span class="badge cs-badge">CS 专业必修</span>
<span class="badge ai-badge">AI 专业三选一必修</span>
<span class="badge is-badge">IS 专业选修</span>
</div>

## 课程学习内容

分两部分，各部分授课 8 周，前 8 周为数据库应用，涉及:

- 数据库介绍和关系模型
- SQL 的使用，包括基本概念、语法和高级的函数，比较复杂的嵌套
- 数据库的表的设计，如 E-R 模型， norm form 等

后 8 周研究数据的实际实现，涉及:

- 计算机存储设备和层级结构
- 索引，重点，例如直接索引、间接索引等概念，Hash，B+ 树等数据结构
- 查询处理，重点，需要结合索引计算操作的复杂度
- 查询优化，主要是概念
- 事务与幷发控制，重点，包括并发模型、死锁等
- 故障恢复，重点，主要是有关日志的话题和算法

据说以前这门课是两门课，后来合并了。实验设计也类似地呈现出两个阶段。
前 8 周的内容主要为数据库安装并练习 SQL，有 5～6 个小实验，需要实验报告，最后使用 JDBC 等框架设计一个图书管理系统，具体的查询要求和 E-R 图实验手册会给；
后 8 周完成大作业，实现一个 MiniSQL。从 20 级开始，大作业会给框架，并基于 CMU 15-445 的 BusTub 框架，有比较详细的实验指导和验收要求，由于春夏学期课程比较多，你在期末考试周能看见一楼熬夜写大作业的盛况 233。

平时作业为书面作业，在前 8 周主要是根据给定要求写写 SQL 或者设计数据库的表；
后 8 周因为涉及到数据库实现，需要学习数据结构和算法，并进行相关的步骤考察和计算。

### 先修要求

考虑到大作业，理论上应该先学 C++ (OOP)，但是大部分同学这两门课应该是同个学期学的，而且觉得写大作业刚好能学习 C++，大作业的框架语法也不太复杂，所以似乎情况还过得去；此外由于这是个略有规模的 C++ 的工程，它使用 CMake 管理，GTest 写测试，写这个项目需要熟悉这些工具的使用。

## 任课教师
    
=== "孙建伶"
    
    孙老师上课很有激情，讲的速度略快但是条理清晰，会讲一些之前八股文考试不涉及的内容，例如 LSM Tree。
    
=== "高云君"
    
    高老师是顶尖 PPTeacher，具备堪比 Narrator 的念 PPT 功底。基本内容讲的还算清楚，Quiz 也不是很难，但是上课不会讲实验相关的东西。助教如果还是某朱姓老博的话建议快跑，他根本不懂数据库，更不懂实验。
    
## 课程教材

应该雷打不动 [Database System Concepts](https://www.db-book.com/)，平时 PPT 也主要是照着这本书出的，一些不清楚的概念和推导可以查这本书。由于大家一般是先修数据库后修操作系统，后 8 周的事务、并发控制会有很多细碎的概念可能会比较难理解，可以参考这本书，其他时候可以不看。


## 分数构成

=== "孙建伶"

    * 平时作业 (10%)

        基本每次课后都会有作业，对于巩固知识很有帮助。注意不要无脑抄答案，你自己写错一些助教可能会给你作业满分，但是要是助教认真而且发现你抄袭答案会无情给你作业扣分。

    * Quiz (10%)

        sjl 布置了 5 次 正式 quiz ， 2 次 final review ， 其中 final review 应该是不计分的，但是做了对期末考很有好处。 Quiz 事实上还是比较轻松的，在一段时间内选一个有空的时间做就行，不过有的时候可能会阴戳戳地布置，或者布置得比较阴间，不过如果太阴间会延期。除此之外，每节课基本都会有点名性质的随堂测试，也不知道这个分最后会怎么算，但是随堂测试写错对成绩影响应该不大。另外 sjl 班比较麻烦的是讨论区发帖，有的讨论要求还是比较高的，比如画一个复杂系统的 E-R 图、简单论文研读什么的，其分数应该也是计入这里。

    * 实验 (30%)

        包括 4 个关于 SQL 的小实验， 1 个综合应用上半学期知识设计图书管理系统的中等实验，以及著名的大实验 minisql 。 4 个 SQL 的小实验非常容易做，就是报告写起来比较繁琐。图书管理系统相对麻烦一些，功能比较多，有的强者可能会配置前端展示，但是很多班还是对纯命令行没有偏见的。最后的 minisql 就不说了，著名的难实验，但是对于初步认识大工程、提升能力、应用 C++ 还是很有帮助的。 minisql 往往会布置一些 bonus ，具体 bonus 的设置方法应当随年份而变。

    * 考试 (50%)

        可以参考八股文历年卷， sjl 班的课程作业、 quiz 、讨论等的设计个人认为还是比较贴近考试内容的。考试应该不会考第一章数据库相关的历史故事，这一方面大概可以放心。

## 推荐课程

- [CMU 15-445](https://15445.courses.cs.cmu.edu/)，某种意义上数据库课程里雷打不动老大哥，98 和知乎相关讨论也是挺多的。
